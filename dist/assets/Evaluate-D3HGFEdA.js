import{a as y,u as w,r,E as N,b as s,o as R,c as V,e as n,g as i,j as e,t as l,h as u,f as j,F as C}from"./index-CsSw0Q1X.js";import{g as k,j as D}from"./businessApi-BLeheLW9.js";import{s as _}from"./request-sBhsa8yO.js";const E="/assets/doctor-1-DcpDOXC8.jpg",B={class:"p-3 bg-gray-100 h-screen"},O={class:"p-2 bg-white rounded-xl"},F=e("div",{class:"p-1.5 mb-2 font-bold text-lg border-b border-gray-100"}," 请为医生的服务打分 ",-1),I={class:"p-2 flex flex-col gap-2"},q={class:"flex gap-4"},z=["src"],A={class:"w-2/4 flex flex-col gap-1"},G={class:"font-bold"},L={class:"text-gray-400 text-base"},S={class:"text-sm text-gray-400"},T={class:"text-gray-400 text-base"},U={class:"flex mt-2 justify-between"},M={__name:"Evaluate",setup(X){const c=y(),m=w(),t=r({id:"",name:"",title:"",department:"",hosName:""});r({score:0});const a=r({doctorId:"",rate:""});N(async()=>{try{await d()}catch{_({type:"danger",message:"请求错误"})}});async function d(){t.value=await k(m.query.id)}d();function p(){a.value.doctorId=t.value.id,D(a.value).then(()=>{c.push({name:"myReg"}),_({type:"danger",message:"评分成功"})})}return(v,o)=>{const f=s("van-nav-bar"),g=s("van-notice-bar"),h=s("van-rate"),x=s("van-button");return R(),V(C,null,[n(f,{title:"服务打分","left-text":"返回","left-arrow":"",onClickLeft:o[0]||(o[0]=()=>i(c).push({name:"myReg"}))}),n(g,{"left-icon":"volume-o",text:"请为医生的服务评价，来帮我们变的更好"}),e("div",B,[e("div",O,[F,e("div",I,[e("div",q,[e("img",{style:{width:"70px","object-fit":"cover"},class:"rounded-full",src:i(E),alt:""},null,8,z),e("div",A,[e("div",null,[e("span",G,l(t.value.name),1),u(),e("span",L,l(t.value.title),1)]),e("div",S,l(t.value.title),1),e("div",T,l(t.value.hosName),1)])]),e("div",U,[n(h,{modelValue:a.value.rate,"onUpdate:modelValue":o[1]||(o[1]=b=>a.value.rate=b),size:35,color:"#ffd21e","void-icon":"star","void-color":"#eee"},null,8,["modelValue"]),n(x,{onClick:p,plain:"",hairline:"",type:"primary"},{default:j(()=>[u("提交")]),_:1})])])])])],64)}}};export{M as default};
